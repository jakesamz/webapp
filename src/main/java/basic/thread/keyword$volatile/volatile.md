#Java内存模型
所有变量都存放在主内中，线程有自己的工作内存，存放主内存变量的一个拷贝副本
线程的对变量的操作都需要在工作内存中进行，无法直接操作主内存。不同线程之间不能互相访问对方的工作内存变量，必须通过主内存来传递。

#Java内存模型三大特征
1. 原子性，

2. 可见性，指的是一个线程修改共享变量，变量的新值对其他线程来说使可见的。比如，volatile变量或synchronize

3. 有序性


#volatile作用

1. 保证可见性，被volatile修饰的变量，线程在修改变量之后会立即同步到主内存中，并使其他线程工作内存中的变量缓存变得无效，其他线程读取时都会从主内存读取最新的变量值存储到工作内存中。（底层实现方法：volatile能使对共享变量的赋值的指令后，增加一条lock指令，也叫内存屏障）

2. 保证有序性，保证指令不被打乱顺序，而是按照流程控制顺序来执行。

#volatile使用场景
1. 运算结果不依赖共享变量的当前值（原值）

2. 禁止指令乱序。